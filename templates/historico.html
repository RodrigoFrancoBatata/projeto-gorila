<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Histórico de Treinos</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <div class="container">
    <a href="/" class="voltar">← Voltar</a>
    <h1>📅 Histórico de Treinos</h1>

    {% for dia, treinos in historicos.items() %}
      <h2>{{ dia }}</h2>
      {% if treinos %}
        {% for treino in treinos %}
          <div class="card">
            <p><strong>Data:</strong> {{ treino.data }}</p>
            <ul>
              {% for ex in treino.exercicios %}
                <li><strong>{{ ex.exercicio }}</strong> - {{ ex.series }} - {{ ex.carga }}kg <br><em>{{ ex.obs }}</em></li>
              {% endfor %}
            </ul>
          </div>
        {% endfor %}
      {% else %}
        <p>Sem registros para este treino.</p>
      {% endif %}
    {% endfor %}

    <div class="acoes-home">
      <a href="/historico/download" class="botao-acao">📥 Exportar Histórico CSV</a>
    </div>
  </div>

  <!-- Botão Dark Mode -->
  <button class="dark-toggle" onclick="toggleDark()">🌙</button>
  <script>
    const toggleDark = () => {
      document.body.classList.toggle("dark");
      localStorage.setItem("darkmode", document.body.classList.contains("dark"));
    };
    window.onload = () => {
      if (localStorage.getItem("darkmode") === "true") {
        document.body.classList.add("dark");
      }
    };
  </script>
</body>
</html>
